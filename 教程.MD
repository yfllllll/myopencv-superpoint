编译步骤
1. 准备ONNX Runtime依赖
# 下载ONNX Runtime (如果还没有的话)  
export ONNXRUNTIME_ROOT_PATH=/root/onnxruntime-linux-x64-gpu-1.22.0
export ONNXRUNTIME_LIBRARIES=/root/onnxruntime-linux-x64-gpu-1.22.0/lib
export ONNXRUNTIME_INCLUDE_DIRS=/root/onnxruntime-linux-x64-gpu-1.22.0/include
export LD_LIBRARY_PATH=$ONNXRUNTIME_LIBRARIES:$LD_LIBRARY_PATH
export INCLUDE_PATH=$ONNXRUNTIME_INCLUDE_DIRS:$INCLUDE_PATH
export C_INCLUDE_PATH=$ONNXRUNTIME_INCLUDE_DIRS:$C_INCLUDE_PATH
export CPLUS_INCLUDE_PATH=$ONNXRUNTIME_INCLUDE_DIRS:$CPLUS_INCLUDE_PATH
  
# 配置CMake，启用ONNX Runtime支持  
cmake -DCMAKE_CXX_STANDARD=17 -DCMAKE_BUILD_TYPE=Release -DWITH_ONNXRUNTIME=ON  ..

3. 编译OpenCV
# 编译 (使用多线程加速)  
make -j8
  
# 安装 (可选)  
sudo make install

4. 验证编译结果
#include <opencv2/opencv.hpp>  
#include <opencv2/superpoint.hpp>  
#include <opencv2/stitching/detail/lightglue.hpp>  
  
int main() {  
    // 测试SuperPoint创建  
    auto superpoint = cv::SuperPoint::create("/root/weights/superpoint.onnx");  
      
    // 测试LightGlue创建    
    auto lightglue = cv::detail::LightGlue::create("/root/weights/superpoint_lightglue.onnx");  
      
    std::cout << "SuperPoint and LightGlue integration successful!" << std::endl;  
    return 0;  
}

g++ -std=c++17 test.cpp -o test \
    `pkg-config --cflags --libs opencv4` \
    -L/root/onnxruntime-linux-x64-gpu-1.22.0/lib \
    -lonnxruntime

    